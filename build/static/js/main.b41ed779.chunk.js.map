{"version":3,"sources":["utils/audio.js","components/time-view/time-view.js","components/user-stats/user-stats.js","components/control-btns/control-btns.jsx","panels/home/home.js","App.js","index.js","components/control-btns/control-btns.module.css","components/time-view/timer-view.module.css","panels/home/home.module.css"],"names":["audiolib","bellHighTone","rootpath","bellLowTone","MILISECONDS_IN_MINUTE","TimeView","props","preZero","time","className","styles","timeViewWrapper","textStyle","timer","minutes","seconds","Math","floor","getStringTime","UserStats","user","title","first_name","before","photo_200","src","description","city","last_name","ControlBtns","isOn","toggleTimer","resetTimer","isResetBtnVisible","controlButton","flexCenter","onClick","TIMER_DURATION_MULTIPLER","DEFAULT_TIMER_DURATION","Home","state","getInitState","duration","start","timeLeft","deadLine","Date","now","this","startSound","Audio","stopSound","adjustTimer","stopTimer","startTimer","setState","play","setInterval","max","clearInterval","id","fetchedUser","e","toggleAdjust","mode","size","after","min","step","value","onChange","appearance","bind","Component","App","useState","setScheme","activePanel","setUser","popout","setPopout","useEffect","a","bridge","send","subscribe","detail","type","data","scheme","Number","app_id","then","responseAuth","setToken","access_token","getConfig","catch","console","log","fetchData","userConfig","createUserConfig","userId","fetch","response","ok","json","alert","status","method","headers","body","JSON","stringify","$id","$name","showInput","initialState","activeModal","go","currentTarget","dataset","to","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b41ed779.chunk.js","sourcesContent":["const rootpath = process.env.PUBLIC_URL + '/audio/';\r\nconst audiolib = {\r\n    bellHighTone: rootpath + 'bell-high.mp3',\r\n    bellLowTone: rootpath + 'bell-high.mp3'\r\n}\r\n\r\nexport default audiolib\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport styles from './timer-view.module.css';\r\n\r\nconst MILISECONDS_IN_MINUTE = 60000;\r\nconst MILISECONDS_IN_SECOND = 1000;\r\n\r\nconst TimeView = (props) => {\r\n\r\n    const preZero = (time) => {\r\n        return (time < 10 ? '0' : '') + time;\r\n    };\r\n\r\n    const getStringTime = () => {\r\n        const minutes = (props.time - props.time % MILISECONDS_IN_MINUTE) / MILISECONDS_IN_MINUTE;\r\n        const seconds = Math.floor((props.time - minutes * MILISECONDS_IN_MINUTE) / MILISECONDS_IN_SECOND);\r\n        return preZero(minutes) + ':' + preZero(seconds);\r\n    }\r\n\r\n    return (\r\n        <div className={styles.timeViewWrapper}>\r\n            <h2 className={styles.textStyle}>Нажмите, чтобы изменить длительность</h2>\r\n            <h1 className={styles.timer}>{getStringTime()}</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nTimeView.propTypes = {\r\n    time: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default TimeView;\r\n","import { Avatar, Cell, Group } from \"@vkontakte/vkui\";\r\nimport React, {PropTypes} from \"react\";\r\n\r\nconst UserStats = (props) => {\r\n\r\n    const {user} = props;\r\n\r\n    return (\r\n        <>\r\n            <Group title={user.first_name}>\r\n                <Cell\r\n                    before={user.photo_200 ?<Avatar src={user.photo_200}/> : null}\r\n                    description={user.city && user.city.title ? user.city.title : ''}\r\n                >\r\n                    {`${user.first_name} ${user.last_name}`}\r\n                </Cell>\r\n            </Group>\r\n        </>\r\n    )\r\n}\r\n\r\n// UserStats.propTypes = {\r\n//     user: PropTypes.object.isRequired,\r\n// };\r\n\r\nexport default UserStats;\r\n","\r\nimport React, {PropTypes} from \"react\";\r\nimport { Icon48Pause, Icon48Play, Icon48Replay } from '@vkontakte/icons';\r\nimport { Button, Div, Group } from \"@vkontakte/vkui\";\r\nimport styles from './control-btns.module.css'\r\n\r\nconst ControlBtns = (props) => {\r\n    const {isOn, toggleTimer, resetTimer, isResetBtnVisible} = props;\r\n    const divName = styles.controlButton;\r\n    return (\r\n        <Group title=\"controls\">\r\n\r\n            {/*почему то в этом файле React не видит импортированный styles */}\r\n            <Div className={styles.flexCenter}>\r\n                <div\r\n                    className={styles.controlButton}\r\n                    onClick={toggleTimer}>\r\n                    {isOn ? (<Icon48Pause/>) : (<Icon48Play/>)}\r\n                </div>\r\n                {\r\n                    isResetBtnVisible &&\r\n\r\n                    <div\r\n                        className={styles.controlButton}\r\n                        onClick={resetTimer}>\r\n                        <Icon48Replay/>\r\n                    </div>\r\n                }\r\n            </Div>\r\n        </Group>\r\n    )\r\n} \r\n\r\nexport default ControlBtns;\r\n\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Counter, Slider, SimpleCell, InfoRow, Panel, PanelHeader, Button, Div} from '@vkontakte/vkui';\r\nimport audiolib from '../../utils/audio';\r\nimport TimeView from '../../components/time-view/time-view';\r\nimport styles from './home.module.css';\r\nimport UserStats from '../../components/user-stats/user-stats';\r\nimport ControlBtns from '../../components/control-btns/control-btns';\r\n\r\nconst TIMER_DURATION_MULTIPLER = 60000;\r\nconst DEFAULT_TIMER_DURATION = 10 * TIMER_DURATION_MULTIPLER;\r\nconst TIMER_MIN_VALUE = 1;\r\nconst TIMER_MAX_VALUE = 1000;\r\n\r\nclass Home extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = this.getInitState();\r\n\t}\r\n\r\n\tgetInitState() {\r\n\t\treturn {\r\n\t\t\tduration: DEFAULT_TIMER_DURATION,\r\n\t\t\tisOn: false,\r\n\t\t\tstart: 0,\r\n\t\t\ttimeLeft: DEFAULT_TIMER_DURATION,\r\n\t\t\tdeadLine: Date.now() + this.props.duration,\r\n\t\t\tstartSound: new Audio(audiolib.bellHighTone),\r\n\t\t\tstopSound: new Audio(audiolib.bellLowTone),\r\n\t\t\tadjustTimer: false\r\n\t\t};\r\n\t}\r\n\r\n\ttoggleTimer() {\r\n\t\tif (this.state.isOn) {\r\n\t\t\tthis.stopTimer();\r\n\t\t} else {\r\n\t\t\tthis.startTimer();\r\n\t\t}\r\n\t}\r\n\r\n\tstartTimer() {\r\n\t\tthis.setState({\r\n\t\t\tisOn: true,\r\n\t\t\ttimeLeft: this.state.duration,\r\n\t\t\tstart: Date.now(),\r\n\t\t\tdeadLine: Date.now() + this.state.duration\r\n\t\t});\r\n\t\tthis.state.startSound.play();\r\n\t\tthis.timer = setInterval(() => {\r\n\t\t\tif (this.state.timeLeft > 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttimeLeft: Math.max(this.state.deadLine - Date.now(), 0)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.state.stopSound.play();\r\n\t\t\t\tthis.stopTimer();\r\n\t\t\t}\r\n\t\t}, 1);\r\n\t}\r\n\r\n\tstopTimer() {\r\n\t\tthis.setState({\r\n\t\t\tisOn: false\r\n\t\t})\r\n\t\tclearInterval(this.timer)\r\n\t}\r\n\r\n\tresetTimer() {\r\n\t\tthis.setState({\r\n\t\t\ttimeLeft: this.state.duration,\r\n\t\t\tisOn: false,\r\n\t\t\tdeadLine: Date.now() + (this.state.duration)\r\n\t\t})\r\n\t}\r\n\r\n\ttoggleAdjust() {\r\n\t\tif (!this.state.isOn) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tadjustTimer: !this.state.adjustTimer\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tconst isResetBtnVisible = !this.state.isOn && this.state.timeLeft !== this.state.duration;\r\n\r\n\t\treturn (<Panel id={this.props.id}>\r\n\t\t\t<PanelHeader>Dhyan Timer</PanelHeader>\r\n\t\t\t{this.props.fetchedUser && <UserStats user={this.props.fetchedUser} /> }\r\n\t\t\t<Div onClick={e => this.toggleAdjust()}>\r\n\t\t\t\t<TimeView time={this.state.timeLeft} />\r\n\t\t\t</Div>\r\n\t\t\t{\r\n\t\t\t\tthis.state.adjustTimer && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<SimpleCell\r\n\t\t\t\t\t\t\tbefore={<Counter mode='primary' size='m'>{TIMER_MIN_VALUE}</Counter>}\r\n\t\t\t\t\t\t\tafter={<Counter mode='primary' size='m'>{TIMER_MAX_VALUE}</Counter>}\r\n\t\t\t\t\t\t></SimpleCell>\r\n\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={1000}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalue={this.state.duration / TIMER_DURATION_MULTIPLER}\r\n\t\t\t\t\t\t\tonChange={value => {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\ttimeLeft: value * TIMER_DURATION_MULTIPLER,\r\n\t\t\t\t\t\t\t\t\tduration: value * TIMER_DURATION_MULTIPLER\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Div className={styles.flexCenter}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tappearance='overlay'\r\n\t\t\t\t\t\t\t\tkey='saveDuration'\r\n\t\t\t\t\t\t\t\tsize=\"l\"\r\n\t\t\t\t\t\t\t\tonClick={e => this.toggleAdjust()}>\r\n\t\t\t\t\t\t\t\tСохранить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t{\r\n\t\t\t\t!this.state.adjustTimer && (\r\n\t\t\t\t\t<ControlBtns isOn={this.state.isOn} toggleTimer={this.toggleTimer.bind(this)} resetTimer={this.resetTimer.bind(this)} isResetBtnVisible={isResetBtnVisible} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t</Panel>);\r\n\t}\r\n};\r\n\r\nHome.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tshowInput: PropTypes.func.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, ConfigProvider, SplitLayout, SplitCol } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/home/home';\n\nconst App = () => {\n\tconst [scheme, setScheme] = useState('bright_light')\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tsetScheme(data.scheme)\n\t\t\t\tbridge.send(\"VKWebAppGetAuthToken\", {\"app_id\": Number(data.app_id), \"scope\": \"friends,photos\"})\n\t\t\t\t\t.then((responseAuth) => {\n\t\t\t\t\t\tsetToken(responseAuth.access_token);\n\t\t\t\t\t\tgetConfig();\n\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\tconsole.log(`error: ${e} `)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t\treturn user;\n\t\t}\n\n\t\tfetchData().then((user) => {\n\t\t\tgetConfig(user.id).then((userConfig) => {\n\t\t\t\tif (!userConfig) {\n\t\t\t\t\tcreateUserConfig(user);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}, []);\n\n\tconst getConfig = async function (userId) {\n\n\t\tconst response = await fetch(`https://d5dkgim47m3sjaq4k4s3.apigw.yandexcloud.net/user?id=${userId}`);\n\n\t\tif (response.ok) { // если HTTP-статус в диапазоне 200-299\n\t\t\tlet json = await response.json();\n\t\t\treturn json[0];\n\t\t} else {\n\t\t\talert(\"Ошибка HTTP: \" + response.status);\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tconst createUserConfig = async function (user) {\n\t\tconst response = await fetch('https://d5dkgim47m3sjaq4k4s3.apigw.yandexcloud.net/user', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t$id: user.id,\n\t\t\t\t$name: user.first_name + ' ' + user.last_name,\n\t\t\t})\n\t\t});\n\n\t\tif (response.ok) { // если HTTP-статус в диапазоне 200-299\n\t\t\tlet json = await response.json();\n\t\t\tconsole.log(JSON.stringify)\n\t\t} else {\n\t\t\talert(\"Ошибка HTTP: \" + response.status);\n\t\t}\n\t\treturn response;\n\t}\n\n\tconst bridgeEventManager = (response) => {\n\t\tif (response.detail.type === 'VKWebAppUpdateConfig') {\n\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\tschemeAttribute.value = response.detail.data.scheme ? response.detail.data.scheme : 'client_light';\n\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t}\n\t\tif (response.detail.type === 'VKWebAppGetAuthTokenResult') {\n\t\t\tsetState({...state, token: response.detail.token});\n\t\t\tconsole.log(`token set: ${state.token}`);\n\t\t}\n\t\tif (response.detail.type === 'VKWebAppCallAPIMethodResult') {\n\t\t\tsetVkResponse(response.detail.data)\n\t\t}\n\t}\n\n\tconst goToPanel = (e) => {\n\t\tsetState({...state, activePanel: e.currentTarget.dataset.to});\n\t};\n\n\treturn (\n\t\t// todo: add props modal={modal}\n\t\t<View  activePanel={activePanel} popout={popout}>\n\t\t\t<Home\n\t\t\t\tid='home'\n\t\t\t\tfetchedUser={fetchedUser}\n\t\t\t\tshowInput={() => {\n\t\t\t\t\tsetState({...initialState, activeModal: 'timeInputTest'})\n\t\t\t\t}}\n\t\t\t\tgo={goToPanel} />\n\t\t</View>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexCenter\":\"control-btns_flexCenter__ICrgy\",\"controlButton\":\"control-btns_controlButton__1f4hn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeViewWrapper\":\"timer-view_timeViewWrapper__2DVe6\",\"timer\":\"timer-view_timer__2_NkA\",\"textStyle\":\"timer-view_textStyle__1Wj6J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexCenter\":\"home_flexCenter__1EYnj\",\"width100\":\"home_width100__2Wl4r\",\"textCenter\":\"home_textCenter__2mGUY\",\"sliderScale\":\"home_sliderScale__2WAiT\",\"sliderMinTime\":\"home_sliderMinTime__fCnIf\",\"sliderMaxTime\":\"home_sliderMaxTime__3lRxn\"};"],"sourceRoot":""}